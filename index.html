 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pong with Mobile Controls</title>
  <style>
    body {
      background: black;
      color: white;
      text-align: center;
      font-family: Arial, sans-serif;
      user-select: none; /* Disable text selection */
    }
    canvas {
      background: black;
      display: block;
      margin: 20px auto;
      border: 2px solid white;
    }
    .controls {
      margin-top: 10px;
    }
    button {
      background: white;
      border: none;
      color: black;
      font-size: 24px;
      padding: 15px 30px;
      margin: 0 20px;
      border-radius: 8px;
      user-select: none;
      touch-action: manipulation;
    }
    button:active {
      background: #ddd;
    }
  </style>
</head>
<body>
  <canvas id="pong" width="600" height="400"></canvas>

  <div class="controls">
    <button id="upBtn">⬆️ Up</button>
    <button id="downBtn">⬇️ Down</button>
  </div>

  <script>
    const canvas = document.getElementById('pong');
    const ctx = canvas.getContext('2d');

    const paddleWidth = 10;
    const paddleHeight = 80;
    let leftPaddleY = (canvas.height - paddleHeight) / 2;
    const rightPaddleY = (canvas.height - paddleHeight) / 2;

    const paddleSpeed = 5;

    // Touch button pressed states
    let upPressed = false;
    let downPressed = false;

    // Get buttons
    const upBtn = document.getElementById('upBtn');
    const downBtn = document.getElementById('downBtn');

    // Functions to handle button press and release
    function pressUp() { upPressed = true; }
    function releaseUp() { upPressed = false; }
    function pressDown() { downPressed = true; }
    function releaseDown() { downPressed = false; }

    // Touch events
    upBtn.addEventListener('touchstart', e => { e.preventDefault(); pressUp(); });
    upBtn.addEventListener('touchend', e => { e.preventDefault(); releaseUp(); });
    downBtn.addEventListener('touchstart', e => { e.preventDefault(); pressDown(); });
    downBtn.addEventListener('touchend', e => { e.preventDefault(); releaseDown(); });

    // Also support mouse events for desktop
    upBtn.addEventListener('mousedown', pressUp);
    upBtn.addEventListener('mouseup', releaseUp);
    upBtn.addEventListener('mouseleave', releaseUp);
    downBtn.addEventListener('mousedown', pressDown);
    downBtn.addEventListener('mouseup', releaseDown);
    downBtn.addEventListener('mouseleave', releaseDown);

    // Clear canvas
    function clear() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    // Draw paddle function
    function drawPaddle(x, y) {
      ctx.fillStyle = 'white';
      ctx.fillRect(x, y, paddleWidth, paddleHeight);
    }

    function gameLoop() {
      clear();

      // Move paddle if pressed
      if (upPressed) {
        leftPaddleY -= paddleSpeed;
      }
      if (downPressed) {
        leftPaddleY += paddleSpeed;
      }

      // Keep paddle inside canvas
      if (leftPaddleY < 0) leftPaddleY = 0;
      if (leftPaddleY + paddleHeight > canvas.height) leftPaddleY = canvas.height - paddleHeight;

      // Draw paddles
      drawPaddle(10, leftPaddleY); // Left paddle
      drawPaddle(canvas.width - 20, rightPaddleY); // Right paddle static

      requestAnimationFrame(gameLoop);
    }

    gameLoop();
  </script>
</body>
</html>
